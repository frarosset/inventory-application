<form action="/categories/new" method="POST">
  <fieldset>
    <div>
      <label for="name">Name</label>
      <input type="text" id="name" name="name" maxlength="<%= process.env.NAME_MAX_LENGTH %>" pattern="<%= process.env.NAME_REGEX %>" title="<%= process.env.NAME_REGEX_MSG %>" required>
    </div>
    <div>
      <label for="notes">Notes</label>
      <textarea type="text" id="notes" name="notes" maxlength="<%= process.env.NOTES_MAX_LENGTH %>" pattern="<%= process.env.NOTES_REGEX %>" title="<%= process.env.NOTES_REGEX_MSG %>"></textarea>
    </div>
  </fieldset>
  <%- include("protectedFieldset.ejs") _%>
  <fieldset>
    <legend>Ingredients Rules</legend>
    <p>
      Select the ingredients that are
      <span class="enforcing" title="These ingredients automatically add this category (unless incompatible)">enforcing</span>
      this category or
      <span class="incompatible" title="These ingredients automatically exclude this category">incompatible</span>
      with it.
    </p>
    <%- include("multiStateCheckboxInputList.ejs", {name: "ingredients", list: ingredients, states: ["none","enforcing","incompatible"]}) _%>
  </fieldset>
  <fieldset>
    <legend>Apply to these Pizzas</legend>
    <%- include("protectedCheckboxInputList.ejs", {name: "pizzas", list: pizzas, protectedValues: protectedPizzas}) _%>
  </fieldset>
  <div>
    <a href="/categories">Back</a>
    <button>SUBMIT</button>
  </div>
</form>
<%- include("multiStateCheckboxScript.ejs") _%>